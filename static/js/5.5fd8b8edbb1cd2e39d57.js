webpackJsonp([5],{CBlL:function(t,e){},cGnY:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"statistic-tp-pfofit",data:function(){return{dataList:"",pageNo:"1",pageCount:"1",goToPag:"1",dataCount:"0",pageSize:"10"}},methods:{query:function(t,e){var i=this;this.$http.post(this.$api.violation.profitStatistic,{pay_begin_date:beginDate.value,page_size:this.pageSize,page_no:this.pageNo}).then(function(t){"ss0000"==t.s_state?(i.dataList=t.result.list,i.pageNo=t.result.pageNo,i.pageCount=t.result.pageCount,i.dataCount=t.result.dataCount):i.$dialog.alert("请求数据失败")}).catch(function(t){i.$dialog.alert("请求数据失败")})},total:function(t,e){var i=0;return this.dataList&&this.dataList.forEach(function(a){e?(i+=1*a[t]/100,i=Number(i.toFixed(e))):i+=Number(a[t])}),i},toPage:function(){var t=Number(goToPag.value);t>0&&t<=Number(this.pageCount)?(this.pageNo=t,this.query()):this.$dialog.alert("选择的页数超出范围")},addPage:function(){this.pageNo!=this.pageCount?(this.pageNo=Number(this.pageNo)+1,this.query()):this.$dialog.alert("已是最后一页")},reducePage:function(){1!=this.pageNo?(this.pageNo=Number(this.pageNo)-1,this.query()):this.$dialog.alert("当前为第一页")},exportFile:function(t){var e=this.$api.violation.exportProfitStatistic;"list"==t&&(e=this.$api.violation.exportProfitStatisticOrder);var i="<form id='frmSubmit' action='"+e+"' method='post'>";i+="<input name='pay_begin_date' value='"+beginDate.value+"'/> ",i+="</form>",divSubmit.innerHTML=i,frmSubmit.submit()},changePageSize:function(t){this.pageSize=t,this.query()}},filters:{numFilter:function(t){return(t=Number(t)).toFixed(2)}},mounted:function(){setTimeout(this.query,0)}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"query-head"},[i("label",[t._v("支付日期：")]),t._v(" "),i("datepicker",{attrs:{vid:"beginDate",format:"YYYY-MM",value:"2019-01"}}),t._v(" "),i("div",{staticClass:"btn-box"},[i("button",{staticClass:"btn",on:{click:t.query}},[t._v("统计")]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.exportFile}},[t._v("导出")]),t._v(" "),i("button",{staticClass:"btn",on:{click:function(e){t.exportFile("list")}}},[t._v("导出订单清单")])])],1),t._v(" "),i("div",{staticClass:"query-msg-box"},[i("div",[i("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),t._v(" "),i("tbody",[t._l(t.dataList,function(e,a){return""!=t.dataList?i("tr",{key:a},[i("td",[t._v(t._s(e.order_finish_date))]),t._v(" "),i("td",[t._v(t._s(e.order_done_count))]),t._v(" "),i("td",[t._v(t._s(e.order_owner_count))]),t._v(" "),i("td",[t._v(t._s(e.order_point_count))]),t._v(" "),i("td",[t._v(t._s(e.order_nopoint_count))]),t._v(" "),i("td",[t._v(t._s(t._f("numFilter")(e.order_porfit_amount/100)))]),t._v(" "),i("td",[t._v(t._s(t._f("numFilter")(e.order_owner_profit/100)))]),t._v(" "),i("td",[t._v(t._s(t._f("numFilter")(e.order_point_profit/100)))]),t._v(" "),i("td",[t._v(t._s(t._f("numFilter")(e.order_nopoint_profit/100)))])]):t._e()}),t._v(" "),t.dataList?i("tr",[i("td",[t._v("总计")]),t._v(" "),i("td",[t._v(t._s(t.total("order_done_count"))+"单")]),t._v(" "),i("td",[t._v(t._s(t.total("order_owner_count"))+"单")]),t._v(" "),i("td",[t._v(t._s(t.total("order_point_count"))+"单")]),t._v(" "),i("td",[t._v(t._s(t.total("order_nopoint_count"))+"单")]),t._v(" "),i("td",[t._v(t._s(t.total("order_porfit_amount",2))+"元")]),t._v(" "),i("td",[t._v(t._s(t.total("order_owner_profit",2))+"元")]),t._v(" "),i("td",[t._v(t._s(t.total("order_point_profit",2))+"元")]),t._v(" "),i("td",[t._v(t._s(t.total("order_nopoint_profit",2))+"元")])]):t._e(),t._v(" "),""==t.dataList?i("tr",[i("td",{attrs:{colspan:"10"}},[t._v("没有数据")])]):t._e()],2)])]),t._v(" "),i("div",{attrs:{id:"pagination-box"}},[i("label",[t._v("总计：")]),t._v(" "),i("b",{staticClass:"txt"},[t._v(t._s(t.dataCount))]),t._v(" "),i("custom-select",{attrs:{list:{10:"10/页",20:"20/页",50:"50/页"},vid:"sizeSelect",val:t.pageSize,value:"10/页"},on:{sizeSelect:t.changePageSize}}),t._v(" "),i("b",{staticClass:"sel-lef",on:{click:t.reducePage}}),t._v(" "),i("span",{staticClass:"txt"},[t._v(t._s(t.pageNo))]),t._v("/"),i("span",[t._v(t._s(t.pageCount))]),t._v(" "),i("b",{staticClass:"sel-rig",on:{click:t.addPage}}),t._v(" "),i("label",[t._v("跳转至：")]),t._v(" "),i("input",{attrs:{type:"text",id:"goToPag",value:"1",maxlength:"3"},on:{change:t.toPage}})],1),t._v(" "),i("div",{staticStyle:{display:"none"},attrs:{id:"divSubmit"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("日期")]),t._v(" "),i("th",[t._v("已完成订单")]),t._v(" "),i("th",[t._v("本人本车订单")]),t._v(" "),i("th",[t._v("不扣分代缴订单")]),t._v(" "),i("th",[t._v("扣分代缴订单")]),t._v(" "),i("th",[t._v("分润金额")]),t._v(" "),i("th",[t._v("本人本车分润")]),t._v(" "),i("th",[t._v("不扣分代缴分润")]),t._v(" "),i("th",[t._v("扣分代缴分润")])])])}]};var _=i("VU/8")(a,o,!1,function(t){i("CBlL")},null,null);e.default=_.exports}});
//# sourceMappingURL=5.5fd8b8edbb1cd2e39d57.js.map