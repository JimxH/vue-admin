webpackJsonp([9],{sseF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"query-statistic-coad",data:function(){return{typeList:{"":"所有",0:"API",1:"嵌入页面"},pageType:{10:"10/页",20:"20/页",50:"50/页"},dataList:"",pageNo:"1",pageCount:"1",goToPag:"1",dataCount:"0",pageSize:"10",value:""}},methods:{total:function(t){var e=0;return this.dataList&&this.dataList.forEach(function(a){e+=1*a[t]}),e},query:function(){if(this.verifyDate()){var t=this,e=document.getElementById("channel").getAttribute("val"),a=document.getElementById("beginDate").value,n=document.getElementById("endDate").value;this.$http.post(this.$api.payment.queryStatistic,{tp_query_type:e,quey_begin_date:a,query_end_date:n,page_size:this.pageSize,page_no:this.pageNo}).then(function(e){"ss0000"==e.s_state?(t.dataList=e.result.list,t.pageNo=e.result.pageNo,t.pageCount=e.result.pageCount,t.dataCount=e.result.dataCount):t.$dialog.alert("请求数据失败")}).catch(function(e){t.$dialog.alert("请求数据失败")})}},verifyDate:function(){var t=new Date(beginDate.value).getTime();return!(new Date(endDate.value).getTime()-t<0)||(this.$dialog.alert("结束日不能大于起始日"),!1)},toPage:function(){var t=Number(goToPag.value);t>0&&t<=Number(this.pageCount)?(this.pageNo=t,this.query()):this.$dialog.alert("选择的页数超出范围")},addPage:function(){this.pageNo!=this.pageCount?(this.pageNo=Number(this.pageNo)+1,this.query()):this.$dialog.alert("已是最后一页")},reducePage:function(){1!=this.pageNo?(this.pageNo=Number(this.pageNo)-1,this.query()):this.$dialog.alert("当前为第一页")},exportFile:function(){if(this.verifyDate()){var t=document.getElementById("channel").getAttribute("val"),e=document.getElementById("beginDate").value,a=document.getElementById("endDate").value;this.$export(this.$api.payment.exportStatistic,{tp_query_type:t,quey_begin_date:e,query_end_date:a})}},changePageSize:function(t){this.pageSize=t,this.query()}},filters:{numFilter:function(t){return(t=Number(t)).toFixed(2)}},mounted:function(){setTimeout(this.query,0)}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"query-head"},[a("label",[t._v("渠道：")]),t._v(" "),a("custom-select",{attrs:{list:t.typeList,vid:"channel"}}),t._v(" "),a("label",[t._v("日期：")]),t._v(" "),a("datepicker",{attrs:{vid:"beginDate",name:"1"}}),t._v(" 至\n        "),a("datepicker",{attrs:{vid:"endDate",name:"2"}}),t._v(" "),a("div",{staticClass:"btn-box"},[a("button",{staticClass:"btn",on:{click:t.query}},[t._v("查询")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.exportFile}},[t._v("导出")])])],1),t._v(" "),a("div",{staticClass:"query-msg-box"},[a("div",[a("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),t._v(" "),a("tbody",[t._l(t.dataList,function(e,n){return""!=t.dataList?a("tr",{key:n},[a("td",{domProps:{textContent:t._s(e.query_date)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.query_count)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.success_count)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.car_error_count)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.interface_error_count)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.limit_count)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.license_count)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.license_sucess_count)}})]):t._e()}),t._v(" "),t.dataList?a("tr",[a("td",[t._v("总计")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.total("query_count"))}}),t._v(" "),a("td",{domProps:{textContent:t._s(t.total("success_count"))}}),t._v(" "),a("td",{domProps:{textContent:t._s(t.total("car_error_count"))}}),t._v(" "),a("td",{domProps:{textContent:t._s(t.total("interface_error_count"))}}),t._v(" "),a("td",{domProps:{textContent:t._s(t.total("limit_count"))}}),t._v(" "),a("td",{domProps:{textContent:t._s(t.total("license_count"))}}),t._v(" "),a("td",{domProps:{textContent:t._s(t.total("license_sucess_count"))}})]):t._e(),t._v(" "),""==t.dataList?a("tr",[a("td",{attrs:{colspan:"10"}},[t._v("没有数据")])]):t._e()],2)])]),t._v(" "),a("div",{attrs:{id:"pagination-box"}},[a("label",[t._v("总计：")]),t._v(" "),a("b",{staticClass:"txt",domProps:{textContent:t._s(t.dataCount)}}),t._v(" "),a("custom-select",{attrs:{list:t.pageType,vid:"sizeSelect",val:t.pageSize,value:"10/页"},on:{sizeSelect:t.changePageSize}}),t._v(" "),a("b",{staticClass:"sel-lef",on:{click:t.reducePage}}),t._v(" "),a("span",{staticClass:"txt",domProps:{textContent:t._s(t.pageNo)}}),t._v("/"),a("span",{domProps:{textContent:t._s(t.pageCount)}}),t._v(" "),a("b",{staticClass:"sel-rig",on:{click:t.addPage}}),t._v(" "),a("label",[t._v("跳转至：")]),t._v(" "),a("input",{attrs:{type:"text",id:"goToPag",value:"1",maxlength:"3"},on:{change:t.toPage}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("日期")]),t._v(" "),a("th",[t._v("查询总量")]),t._v(" "),a("th",[t._v("成功查询")]),t._v(" "),a("th",[t._v("车辆错误")]),t._v(" "),a("th",[t._v("接口出错")]),t._v(" "),a("th",[t._v("系统限制")]),t._v(" "),a("th",[t._v("车牌总量")]),t._v(" "),a("th",[t._v("成功车牌")])])])}]},o=a("VU/8")(n,s,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=9.e891159a0be1da0b1235.js.map