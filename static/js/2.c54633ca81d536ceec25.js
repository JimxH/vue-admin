webpackJsonp([2],{JyDc:function(t,e){},W3Oc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"query-pfofit-record",data:function(){return{dataList:"",pageNo:"1",pageCount:"1",goToPag:"1",dataCount:"0",pageSize:"10",profit_month:"",profit_amount:"",profit_type:"",profit_datetime:"",bank_name:"",bank_account:"",remark:""}},methods:{query:function(t,e){if(this.verifyDate()){var a=this;this.$http.post(this.$api.violation.profitRecord,{pay_begin_date:beginDate.value,pay_end_date:endDate.value,page_size:this.pageSize,page_no:this.pageNo}).then(function(t){"ss0000"==t.s_state?(a.dataList=t.result.list,a.pageNo=t.result.pageNo,a.pageCount=t.result.pageCount,a.dataCount=t.result.dataCount):a.$dialog.alert("请求数据失败")}).catch(function(t){a.$dialog.alert("请求数据失败")})}},verifyDate:function(){var t=new Date(beginDate.value).getTime();return!(new Date(endDate.value).getTime()-t<0)||(this.$dialog.alert("结束日不能大于起始日"),!1)},toPage:function(){var t=Number(goToPag.value);t>0&&t<=Number(this.pageCount)?(this.pageNo=t,this.query()):this.$dialog.alert("选择的页数超出范围")},addPage:function(){this.pageNo!=this.pageCount?(this.pageNo=Number(this.pageNo)+1,this.query()):this.$dialog.alert("已是最后一页")},reducePage:function(){1!=this.pageNo?(this.pageNo=Number(this.pageNo)-1,this.query()):this.$dialog.alert("当前为第一页")},changePageSize:function(t){this.pageSize=t,this.query()},detailFn:function(t){var e=this;this.$http.post(this.$api.violation.profitRecordDetail,{id:t}).then(function(t){"ss0000"==t.s_state?(e.profit_month=t.profit_month,e.profit_amount=t.profit_amount,e.profit_type=t.profit_type,e.profit_datetime=t.profit_datetime,e.bank_name=t.bank_name,e.bank_account=t.bank_account,e.remark=t.remark,detailBox.style.display="block"):e.$dialog.alert("请求数据失败")}).catch(function(t){e.$dialog.alert("请求数据失败")})}},filters:{numFilter:function(t){return(t=Number(t)).toFixed(2)}},mounted:function(){var t=document.getElementById("detailBox");document.addEventListener("click",function(e){t&&(t.style.display="none")}),t.addEventListener("click",function(t){(t=t||window.event).stopPropagation()}),setTimeout(this.query,0)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"query-head"},[a("label",[t._v("代缴完成月份：")]),t._v(" "),a("datepicker",{attrs:{vid:"beginDate",format:"YYYY-MM",value:"2019-01"}}),t._v(" 至\n        "),a("datepicker",{attrs:{vid:"endDate",format:"YYYY-MM",value:"2019-01"}}),t._v(" "),a("div",{staticClass:"btn-box"},[a("button",{staticClass:"btn",on:{click:t.query}},[t._v("查询")])])],1),t._v(" "),a("div",{staticClass:"query-msg-box"},[a("div",[a("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),t._v(" "),a("tbody",[t._l(t.dataList,function(e,i){return""!=t.dataList?a("tr",{key:i},[a("td",{domProps:{textContent:t._s(e.company_name)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.profit_month)}}),t._v(" "),a("td",{domProps:{innerHTML:t._s(t.$options.filters.numFilter(e.profit_amount/100))}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.profit_type)}}),t._v(" "),a("td",{domProps:{textContent:t._s(e.profit_datetime)}}),t._v(" "),a("td",[a("a",{staticClass:"txt",domProps:{textContent:t._s("详情")},on:{click:function(a){t.detailFn(e.Id)}}})])]):t._e()}),t._v(" "),""==t.dataList?a("tr",[a("td",{attrs:{colspan:"10"}},[t._v("没有数据")])]):t._e()],2)])]),t._v(" "),a("div",{attrs:{id:"pagination-box"}},[a("label",[t._v("总计：")]),t._v(" "),a("b",{staticClass:"txt"},[t._v(t._s(t.dataCount))]),t._v(" "),a("custom-select",{attrs:{list:{10:"10/页",20:"20/页",50:"50/页"},vid:"sizeSelect",val:t.pageSize,value:"10/页"},on:{sizeSelect:t.changePageSize}}),t._v(" "),a("b",{staticClass:"sel-lef",on:{click:t.reducePage}}),t._v(" "),a("span",{staticClass:"txt"},[t._v(t._s(t.pageNo))]),t._v("/"),a("span",[t._v(t._s(t.pageCount))]),t._v(" "),a("b",{staticClass:"sel-rig",on:{click:t.addPage}}),t._v(" "),a("label",[t._v("跳转至：")]),t._v(" "),a("input",{attrs:{type:"text",id:"goToPag",value:"1",maxlength:"3"},on:{change:t.toPage}})],1),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"divSubmit"}}),t._v(" "),a("div",{attrs:{id:"detailBox"}},[a("h2",[t._v("分润记录详情")]),t._v(" "),a("p",[a("label",[t._v("代缴完成月份 ：")]),a("span",{domProps:{innerHTML:t._s(t.profit_month)}}),t._v(" "),a("label",[t._v("分润金额（元） ：")]),a("span",{domProps:{innerHTML:t._s(t.profit_amount)}})]),t._v(" "),a("p",[a("label",[t._v("分润方式 ：")]),a("span",{domProps:{innerHTML:t._s(t.profit_type)}}),t._v(" "),a("label",[t._v("分润时间 ：")]),a("span",{domProps:{innerHTML:t._s(t.profit_datetime)}})]),t._v(" "),a("p",[a("label",[t._v("开户名称 ：")]),a("span",{staticClass:"spanL",domProps:{innerHTML:t._s(t.bank_name)}})]),t._v(" "),a("p",[a("label",[t._v("银行账户 ：")]),a("span",{staticClass:"spanL",domProps:{innerHTML:t._s(t.bank_account)}})]),t._v(" "),a("p",[a("label",[t._v("备注 ：")]),a("span",{staticClass:"spanL",domProps:{innerHTML:t._s(t.remark)}})])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("公司名称")]),t._v(" "),a("th",[t._v("代缴完成月份")]),t._v(" "),a("th",[t._v("分润金额")]),t._v(" "),a("th",[t._v("分润方式")]),t._v(" "),a("th",[t._v("分润时间")]),t._v(" "),a("th",[t._v("操作")])])])}]};var o=a("VU/8")(i,n,!1,function(t){a("JyDc")},null,null);e.default=o.exports}});
//# sourceMappingURL=2.c54633ca81d536ceec25.js.map