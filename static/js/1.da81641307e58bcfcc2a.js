webpackJsonp([1],{"6jH3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"query-tp-order",data:function(){return{dataList:"",pageNo:"1",pageCount:"1",goToPag:"1",dataCount:"0",pageSize:"10"}},methods:{query:function(t,e){if(this.verifyDate()){var a=this;this.$http.post(this.$api.violation.qyOrdList,{tp_order_type:select1.getAttribute("val"),orderstatus:select2.getAttribute("val"),pay_begin_date:beginDate.value,pay_end_date:endDate.value,page_size:this.pageSize,page_no:this.pageNo}).then(function(t){"ss0000"==t.s_state?(a.dataList=t.result.list,a.pageNo=t.result.pageNo,a.pageCount=t.result.pageCount,a.dataCount=t.result.dataCount):a.$dialog.alert("请求数据失败")}).catch(function(t){a.$dialog.alert("请求数据失败")})}},verifyDate:function(){var t=new Date(beginDate.value).getTime();return!(new Date(endDate.value).getTime()-t<0)||(this.$dialog.alert("结束日不能大于起始日"),!1)},toPage:function(){var t=Number(goToPag.value);t>0&&t<=Number(this.pageCount)?(this.pageNo=t,this.query()):this.$dialog.alert("选择的页数超出范围")},addPage:function(){this.pageNo!=this.pageCount?(this.pageNo=Number(this.pageNo)+1,this.query()):this.$dialog.alert("已是最后一页")},reducePage:function(){1!=this.pageNo?(this.pageNo=Number(this.pageNo)-1,this.query()):this.$dialog.alert("当前为第一页")},exportFile:function(){if(this.verifyDate()){var t="<form id='frmSubmit' action='"+this.$api.violation.expOrdList+"' method='post'>";t+="<input name='tp_order_type' value='"+select1.getAttribute("val")+"'/> ",t+="<input name='orderstatus' value='"+select2.getAttribute("val")+"'/> ",t+="<input name='pay_begin_date' value='"+beginDate.value+"'/> ",t+="<input name='pay_end_date' value='"+endDate.value+"'/> ",t+="</form>",divSubmit.innerHTML=t,frmSubmit.submit()}},changePageSize:function(t){this.pageSize=t,this.query()}},filters:{numFilter:function(t){return(t=Number(t)).toFixed(2)}},mounted:function(){setTimeout(this.query,0)}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"query-head"},[a("label",[t._v("代缴类型：")]),t._v(" "),a("custom-select",{attrs:{list:{"":"所有",0:"本人本证",1:"扣分",2:"不扣分"},vid:"select1"}}),t._v(" "),a("label",[t._v("支付日期：")]),t._v(" "),a("datepicker",{attrs:{vid:"beginDate",name:"1"}}),t._v(" 至\n        "),a("datepicker",{attrs:{vid:"endDate",name:"2"}}),t._v(" "),a("label",[t._v("订单状态：")]),t._v(" "),a("custom-select",{attrs:{list:{"":"所有",0:"已完成",2:"已下单",4:"处理中",9:"待单",8:"已退单"},vid:"select2"}}),t._v(" "),a("div",{staticClass:"btn-box"},[a("button",{staticClass:"btn",on:{click:t.query}},[t._v("查询")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.exportFile}},[t._v("导出")])])],1),t._v(" "),a("div",{staticClass:"query-msg-box"},[a("div",[a("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),t._v(" "),a("tbody",[t._l(t.dataList,function(e,i){return""!=t.dataList?a("tr",{key:i},[a("td",[t._v(t._s(e.order_date))]),t._v(" "),a("td",[t._v(t._s(0==e.tp_order_type?"本人本证":1==e.tp_order_type?"扣分":2==e.tp_order_type?"不扣分":"---"))]),t._v(" "),a("td",[t._v(t._s(e.order_no))]),t._v(" "),a("td",[t._v(t._s(e.user_name))]),t._v(" "),a("td",[t._v(t._s(e.license_plate_no))]),t._v(" "),a("td",[t._v(t._s(e.pay_date))]),t._v(" "),a("td",[t._v(t._s(t._f("numFilter")(e.penalty_amount/100)))]),t._v(" "),a("td",[t._v(t._s(t._f("numFilter")(e.commission/100)))]),t._v(" "),a("td",[t._v(t._s(t._f("numFilter")(e.late_fee/100)))]),t._v(" "),a("td",[t._v(t._s(0==e.order_status?"已完成":2==e.order_status?"已下单":4==e.order_status?"处理中":9==e.order_status?"待单":8==e.order_status?"已退单":"---"))])]):t._e()}),t._v(" "),""==t.dataList?a("tr",[a("td",{attrs:{colspan:"10"}},[t._v("没有数据")])]):t._e()],2)])]),t._v(" "),a("div",{attrs:{id:"pagination-box"}},[a("label",[t._v("总计：")]),t._v(" "),a("b",{staticClass:"txt"},[t._v(t._s(t.dataCount))]),t._v(" "),a("custom-select",{attrs:{list:{10:"10/页",20:"20/页",50:"50/页"},vid:"sizeSelect",val:t.pageSize,value:"10/页"},on:{sizeSelect:t.changePageSize}}),t._v(" "),a("b",{staticClass:"sel-lef",on:{click:t.reducePage}}),t._v(" "),a("span",{staticClass:"txt"},[t._v(t._s(t.pageNo))]),t._v("/"),a("span",[t._v(t._s(t.pageCount))]),t._v(" "),a("b",{staticClass:"sel-rig",on:{click:t.addPage}}),t._v(" "),a("label",[t._v("跳转至：")]),t._v(" "),a("input",{attrs:{type:"text",id:"goToPag",value:"1",maxlength:"3"},on:{change:t.toPage}})],1),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"divSubmit"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("下单时间")]),t._v(" "),a("th",[t._v("代缴类型")]),t._v(" "),a("th",[t._v("订单号")]),t._v(" "),a("th",[t._v("用户名")]),t._v(" "),a("th",[t._v("车牌号")]),t._v(" "),a("th",[t._v("支付时间")]),t._v(" "),a("th",[t._v("本金")]),t._v(" "),a("th",[t._v("服务费")]),t._v(" "),a("th",[t._v("滞纳金")]),t._v(" "),a("th",[t._v("订单状态")])])])}]};var n=a("VU/8")(i,s,!1,function(t){a("F1rh")},null,null);e.default=n.exports},F1rh:function(t,e){}});
//# sourceMappingURL=1.da81641307e58bcfcc2a.js.map