webpackJsonp([4],{"8Kqu":function(t,s){},MUKw:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o={name:"home",data:function(){return{baseInfo:"",showPass:!1,showWarn:!1,popShow:!1,mp_old_password:"",mp_new_password:"",mp_new_password2:"",old_warn_count:"",new_warn_count:"",maxCount:""}},methods:{queryList:function(){var t=this;this.$http.post(this.$api.user.baseInfo).then(function(s){"ss0000"==s.s_state?t.baseInfo=s:t.$dialog.alert(t.$error(s.s_state)||"查询数据出错，请刷新页面重试")}).catch(function(){t.$dialog.alert("系统繁忙，请刷新页面重试")})},changePass:function(){if(""==this.mp_old_password)return this.$dialog.alert("请输入旧密码"),!1;if(""==this.mp_new_password)return this.$dialog.alert("请输入新密码"),!1;if(this.mp_old_password==this.mp_new_password)return this.$dialog.alert("新密码不能与旧密码相同"),!1;if(""==this.mp_new_password2)return this.$dialog.alert("请再次输入新密码"),!1;if(this.mp_new_password!=this.mp_new_password2)return this.$dialog.alert("两次输入密码不一致，请检查"),!1;var t=this;this.$http.post(this.$api.user.password,{mp_new_password:t.mp_new_password,mp_old_password:t.mp_old_password}).then(function(s){"ss0000"==s.s_state?t.$dialog.alert({text:"密码修改成功"},function(){t.closePass()}):t.$dialog.alert(t.$error(s.s_state)||"密码修改失败，请重试")}).catch(function(s){t.$dialog.alert("网络错误，请稍候再试")})},changeWarn:function(){var t=this;return this.new_warn_count==this.old_warn_count?(t.closeWarn(),!1):""==this.new_warn_count?(this.$dialog.alert({text:"预警次数不能为空"}),!1):this.new_warn_count<=0?(this.$dialog.alert({text:"预警次数必须是正整数"}),!1):parseInt(this.new_warn_count)!=this.new_warn_count?(this.$dialog.alert({text:"预警次数必须是正整数"}),!1):this.new_warn_count>=1*this.maxCount?(this.$dialog.alert({text:"预警次数必须小于剩余查询次数"}),!1):void this.$http.post(this.$api.user.warncount,{warn_count:t.new_warn_count}).then(function(s){"ss0000"==s.s_state?t.$dialog.alert({text:"预警次数修改成功"},function(){document.getElementById("warn_count").innerHTML=t.new_warn_count,t.closeWarn()}):t.$dialog.alert(t.$error(s.s_state)||"预警次数修改失败，请重试")}).catch(function(s){t.$dialog.alert("网络错误，请稍候再试")})},openDialog:function(t){if(1==t)this.showPass=!0;else{var s=document.getElementById("warn_count").innerHTML;this.new_warn_count=s,this.old_warn_count=s,this.showWarn=!0}this.popShow=!0},closePass:function(){this.mp_old_password="",this.mp_new_password="",this.mp_new_password2="",this.showPass=!1,this.popShow=!1},closeWarn:function(){this.showWarn=!1,this.popShow=!1}},mounted:function(){this.queryList()}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"view-content-top"},[a("table",{staticClass:"base-info-tab"},[a("tr",[a("td",{staticClass:"title"},[t._v("账号：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.baseInfo.mp_account)}}),t._v(" "),a("td",{staticClass:"title"},[t._v("修改登录密码：")]),t._v(" "),a("td",[a("span",{domProps:{textContent:t._s(t.baseInfo.mp_password)}}),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.openDialog(1)}}},[t._v("【修改】")])])]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("公司名称：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.baseInfo.mp_company_name)}}),t._v(" "),a("td",{staticClass:"title"},[t._v("社会信用代码：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.baseInfo.mp_credit_code)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("联系人：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.baseInfo.mp_contact_person1)}}),t._v(" "),a("td",{staticClass:"title"},[t._v("联系电话：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.baseInfo.mp_contact_phone1)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("违章查询API：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.baseInfo.mp_api_query)}}),t._v(" "),a("td",{staticClass:"title"},[t._v("嵌入页面：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.baseInfo.mp_page_query)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("剩余查询次数：")]),t._v(" "),a("td",{domProps:{textContent:t._s(t.maxCount=t.baseInfo.mp_residue_count)}}),t._v(" "),a("td",{staticClass:"title"},[t._v("预警次数：")]),t._v(" "),a("td",[a("span",{attrs:{id:"warn_count"},domProps:{textContent:t._s(t.baseInfo.mp_warn_count)}}),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.openDialog(2)}}},[t._v("【修改】")])])]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("代缴分润：")]),t._v(" "),a("td",{attrs:{colspan:"3"}},[a("span",{staticClass:"info"},[t._v("本人本车代缴"),a("em",{domProps:{textContent:t._s(t.baseInfo.mp_owner_profit)}}),t._v("元/笔")]),t._v(" "),a("span",{staticClass:"info"},[t._v("不扣分代缴"),a("em",{domProps:{textContent:t._s(t.baseInfo.mp_nopoint_profit)}}),t._v("元/笔")]),t._v(" "),a("span",{staticClass:"info"},[t._v("扣分代缴"),a("em",{domProps:{textContent:t._s(t.baseInfo.mp_point_profit)}}),t._v("元/笔")])])]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("网站回调域：")]),t._v(" "),a("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(t.baseInfo.mp_callback_domain)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("网站域名：")]),t._v(" "),a("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(t.baseInfo.mp_domain)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("应用ID：")]),t._v(" "),a("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(t.baseInfo.mp_application_id)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("KEY：")]),t._v(" "),a("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(t.baseInfo.mp_application_key)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("商家系统默认返回地址：")]),t._v(" "),a("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(t.baseInfo.mp_default_return)}})]),t._v(" "),a("tr",[a("td",{staticClass:"title"},[t._v("商家系统获取访问凭证地址：")]),t._v(" "),a("td",{attrs:{colspan:"3"},domProps:{textContent:t._s(t.baseInfo.mp_access_token_callback)}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPass,expression:"showPass"}],staticClass:"showPass"},[a("p",[a("span",[t._v("输入旧密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mp_old_password,expression:"mp_old_password"}],attrs:{placeholder:"输入旧密码",type:"password"},domProps:{value:t.mp_old_password},on:{input:function(s){s.target.composing||(t.mp_old_password=s.target.value)}}})]),t._v(" "),a("p",[a("span",[t._v("输入新密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mp_new_password,expression:"mp_new_password"}],attrs:{placeholder:"长度6到16位，数字、字母、下划线",type:"password"},domProps:{value:t.mp_new_password},on:{input:function(s){s.target.composing||(t.mp_new_password=s.target.value)}}})]),t._v(" "),a("p",[a("span",[t._v("再次输入新密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mp_new_password2,expression:"mp_new_password2"}],attrs:{placeholder:"长度6到16位，数字、字母、下划线",type:"password"},domProps:{value:t.mp_new_password2},on:{input:function(s){s.target.composing||(t.mp_new_password2=s.target.value)}}})]),t._v(" "),a("p",[a("button",{staticClass:"btn",on:{click:t.changePass}},[t._v("确定")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.closePass}},[t._v("取消")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showWarn,expression:"showWarn"}],staticClass:"showPass showWarn"},[a("p",{staticClass:"title"},[t._v("将预警次数修改为：")]),t._v(" "),a("p",[t._v("\n                剩余\n                "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_warn_count,expression:"new_warn_count"}],attrs:{placeholder:"输入整数",type:"text"},domProps:{value:t.new_warn_count},on:{input:function(s){s.target.composing||(t.new_warn_count=s.target.value)}}}),t._v("次时预警\n            ")]),t._v(" "),a("p",[a("button",{staticClass:"btn",on:{click:function(s){t.changeWarn(s)}}},[t._v("确定")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.closeWarn}},[t._v("取消")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.popShow,expression:"popShow"}],staticClass:"base-info-pop"})])])},staticRenderFns:[]};var e=a("VU/8")(o,n,!1,function(t){a("8Kqu")},"data-v-311f5bbe",null);s.default=e.exports}});
//# sourceMappingURL=4.dcd67b18bdd89ecffebe.js.map