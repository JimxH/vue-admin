webpackJsonp([6],{nF7v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"statistic-tp-order",data:function(){return{dataList:"",pageNo:"1",pageCount:"1",goToPag:"1",dataCount:"0",pageSize:"10"}},methods:{query:function(t,e){if(this.verifyDate()){var a=this;this.$http.post(this.$api.violation.tpStatistic,{pay_begin_date:beginDate.value,pay_end_date:endDate.value,page_size:this.pageSize,page_no:this.pageNo}).then(function(t){"ss0000"==t.s_state?(a.dataList=t.result.list,a.pageNo=t.result.pageNo,a.pageCount=t.result.pageCount,a.dataCount=t.result.dataCount):a.$dialog.alert("请求数据失败")}).catch(function(t){a.$dialog.alert("请求数据失败")})}},verifyDate:function(){var t=new Date(beginDate.value).getTime();return!(new Date(endDate.value).getTime()-t<0)||(this.$dialog.alert("结束日不能大于起始日"),!1)},toPage:function(){var t=Number(goToPag.value);t>0&&t<=Number(this.pageCount)?(this.pageNo=t,this.query()):this.$dialog.alert("选择的页数超出范围")},addPage:function(){this.pageNo!=this.pageCount?(this.pageNo=Number(this.pageNo)+1,this.query()):this.$dialog.alert("已是最后一页")},reducePage:function(){1!=this.pageNo?(this.pageNo=Number(this.pageNo)-1,this.query()):this.$dialog.alert("当前为第一页")},exportFile:function(){if(this.verifyDate()){var t="<form id='frmSubmit' action='"+this.$api.violation.exportTpStatistic+"' method='post'>";t+="<input name='pay_begin_date' value='"+beginDate.value+"'/> ",t+="<input name='pay_end_date' value='"+endDate.value+"'/> ",t+="</form>",divSubmit.innerHTML=t,frmSubmit.submit()}},changePageSize:function(t){this.pageSize=t,this.query()}},mounted:function(){setTimeout(this.query,0)}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"query-head"},[a("label",[t._v("支付日期：")]),t._v(" "),a("datepicker",{attrs:{vid:"beginDate",name:"1"}}),t._v(" 至\n        "),a("datepicker",{attrs:{vid:"endDate",name:"2"}}),t._v(" "),a("div",{staticClass:"btn-box"},[a("button",{staticClass:"btn",on:{click:t.query}},[t._v("统计")]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.exportFile}},[t._v("导出")])])],1),t._v(" "),a("div",{staticClass:"query-msg-box"},[a("div",[a("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),t._v(" "),a("tbody",[t._l(t.dataList,function(e,i){return""!=t.dataList?a("tr",{key:i},[a("td",[t._v(t._s(e.order_pay_date))]),t._v(" "),a("td",[t._v(t._s(e.order_count))]),t._v(" "),a("td",[t._v(t._s(e.order_done_count))]),t._v(" "),a("td",[t._v(t._s(e.order_process_count))]),t._v(" "),a("td",[t._v(t._s(e.order_refund_count))]),t._v(" "),a("td",[t._v(t._s(e.order_wait_count))]),t._v(" "),a("td",[t._v(t._s(e.order_owner_count))]),t._v(" "),a("td",[t._v(t._s(e.order_point_count))]),t._v(" "),a("td",[t._v(t._s(e.order_nopoint_count))])]):t._e()}),t._v(" "),""==t.dataList?a("tr",[a("td",{attrs:{colspan:"10"}},[t._v("没有数据")])]):t._e()],2)])]),t._v(" "),a("div",{attrs:{id:"pagination-box"}},[a("label",[t._v("总计：")]),t._v(" "),a("b",{staticClass:"txt"},[t._v(t._s(t.dataCount))]),t._v(" "),a("custom-select",{attrs:{list:{10:"10/页",20:"20/页",50:"50/页"},vid:"sizeSelect",val:t.pageSize,value:"10/页"},on:{sizeSelect:t.changePageSize}}),t._v(" "),a("b",{staticClass:"sel-lef",on:{click:t.reducePage}}),t._v(" "),a("span",{staticClass:"txt"},[t._v(t._s(t.pageNo))]),t._v("/"),a("span",[t._v(t._s(t.pageCount))]),t._v(" "),a("b",{staticClass:"sel-rig",on:{click:t.addPage}}),t._v(" "),a("label",[t._v("跳转至：")]),t._v(" "),a("input",{attrs:{type:"text",id:"goToPag",value:"1",maxlength:"3"},on:{change:t.toPage}})],1),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"divSubmit"}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("支付日期")]),t._v(" "),a("th",[t._v("订单数")]),t._v(" "),a("th",[t._v("已完成")]),t._v(" "),a("th",[t._v("处理中")]),t._v(" "),a("th",[t._v("已退单")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("待单")]),t._v(" "),a("th",{attrs:{width:"12%"}},[t._v("本人本车订单")]),t._v(" "),a("th",[t._v("不扣分订单")]),t._v(" "),a("th",[t._v("扣分订单")])])])}]};var n=a("VU/8")(i,s,!1,function(t){a("ssmN")},null,null);e.default=n.exports},ssmN:function(t,e){}});
//# sourceMappingURL=6.f1a14ce99425b523716b.js.map